<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //CHALLENGE 1
        //Write a function called averagePair. Given a sorted array of integers and a target average, 
        //determine if there is a pair of values in the array where the average of the pair 
        //equals the target average. There may be more than one pair that matches the average target.
        //Ex: averagePair([1,2,3],2.5) // true (2+3)/2.5
        function averagePair (arr, num) {  //O(n) time complexity
            for(let i = 0; i<arr.length; i++) {
                if((arr[i]+arr[i+1])/2 === num) {
                    return true;
                }
            }
            return false;

        }
        console.log(averagePair([1, 2, 4, 6], 1.5));


        //CHALLENGE 2
        //Write a function called sameFrequency. Given two positive integers, 
        //find out if the two numbers have the same frequency of digits.
        //sameFrequency(182,281) // true
        //sameFrequency(34,14) // false
        //i.e. the same numbers have the same frequency of digits
        function sameFrequency(num1, num2) {
            let str1=num1.toString();
            let str2=num2.toString();
            if(str1.length !== str2.length) {
                return false;
            }
            //populate the 2 objects
            let obj1={}; let obj2={};
            for(let i=0; i<str1.length; i++) {
                if(obj1[str1[i]]) {
                    obj1[str1[i]] +=1;
                } else {
                    obj1[str1[i]]=1;
                }
            }
            for(let i=0; i<str2.length; i++) {
                if(obj2[str2[i]]) {
                    obj2[str2[i]] +=1;
                } else {
                    obj2[str2[i]]=1;
                }
            }

            for(key in obj1) {
                if(obj1[key] !== obj2[key]) {
                    return false;
                }
            }
            return true;

        }
    

        console.log("Same frequency", sameFrequency(182,285)); // true


        //CHALLENGE 3
        //Implement a function called, areThereDuplicates which accepts a VARIABLE number of arguments, 
        //and checks whether there are any duplicates among the arguments 
        //passed in.  You can solve this using the frequency counter pattern OR the multiple pointers pattern.
        //areThereDuplicates(1, 2, 3) // false
        //areThereDuplicates(1, 2, 2) // true 
        function areThereDuplicates (num1, num2, num3) {
            let obj={};
            for(let i of arguments) {
                if(obj[i]) {
                    obj[i]=obj[i]+1;
                } else {
                    obj[i]=1;
                }
            }

            for(key in obj) {
                if(!obj[key] || obj[key] < 2) {
                    return false;
                }
        }
        return true;
    }
        console.log("Are there duplicates?", areThereDuplicates(1, 2, 3, 4)); // false


        //CHALLENGE 4 - 2 points solution
        //Write a function called averagePair. Given a SORTED array of integers and a target
        // average, determine if there is a pair of values in the array where the average of the pair
        // equals the target average. There may be more than one pair that matches the average target.
        //averagePair([1,3,3,5,6,7,10,12,19],8) // true
        //averagePair([-1,0,3,4,5,6], 4.1) // false
        function averagePair(arr, num) {
            if(arr.length === 0) {
                return false;
            }

            let left=0; //initial index
            let right=arr.length-1; //final index
            while(left<right) {
                let average = (arr[left]+arr[right])/2;
                if(average === num) {
                    return true;
                } else if(average>num) {
                    right--;
                } else if(average<num) {
                    left++;
                }
            }
            return false;
        }
        console.log("Average Pair?", averagePair([1, 3, 3, 5, 6, 7, 10, 12, 19], 8)); // true

        //CHALLENGE 5 -2 points solution
        //Write a function called isSubsequence which takes in two strings and checks whether the characters 
        //in the first string form a subsequence of the characters in the second string. In other words, the 
        //function should check whether the
         //characters in the first string appear somewhere in the second string, 
         // WITHOUT THEIR ORDER CHANGING.
         //isSubsequence('hello', 'hello world'); // true
        //isSubsequence('sing', 'sting'); // true
        //isSubsequence('abc', 'acb'); // false (order matters)
        function isSubsequence(str1, str2) {
            if(str1.length === 0) {return true};
            //we fix 2 variables which represent positions in str1 and str2
            let i=0;
            let j=0;
            //parcurgem str2 atata vreme cat sunt caractere de comparat
            while(j<str2.length) { //assures infinite loop prevention
                if(str1[i] === str2[j]) {
                    i++;  //avansam in str1
                }
                if(i === str1.length) {
                    return true;
                }
                j++
            }
            return false;
        }

        console.log("Is Subsequence?", isSubsequence('hello', 'hello world')); // true

    </script>
</body>
</html>